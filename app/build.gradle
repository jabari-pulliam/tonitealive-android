apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'

kapt {
    generateStubs true
}

android {
    compileSdkVersion rootProject.ext.androidCompileSdkVersion
    buildToolsVersion rootProject.ext.androidBuildToolsVersion

    defaultConfig {
        applicationId "com.tonitealive.app"
        minSdkVersion rootProject.ext.androidMinSdkVersion
        targetSdkVersion rootProject.ext.androidTargetSdkVersion
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }

        debug {
            testCoverageEnabled true
        }
    }
    sourceSets {
        main.java.srcDirs += 'src/main/kotlin'
        test.java.srcDirs += 'src/test/kotlin'
        androidTest.java.srcDirs += 'src/androidTest/kotlin'
    }
}

dependencies {
    def appDependencies = rootProject.ext.appDependencies
    def appTestDependencies = rootProject.ext.appTestDependencies
    def appAndroidTestDependencies = rootProject.ext.appAndroidTestDependencies

    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile project(':domain'), project(':data')

    compile appDependencies.kotlinStdLib
    compile appDependencies.daggerCompiler
    compile appDependencies.dagger
    compile appDependencies.butterKnife
    compile appDependencies.recyclerView
    compile appDependencies.rxJava
    compile appDependencies.rxAndroid
    compile appDependencies.rxKotlin
    compile appDependencies.javaxAnnotation
    compile appDependencies.supportv4
    compile appDependencies.appcompat
    compile appDependencies.cardview
    compile appDependencies.supportAnnotations
    compile appDependencies.recyclerview
    compile appDependencies.design
    compile appDependencies.butterknife
    compile appDependencies.butterKnifeCompiler
    compile appDependencies.jsr305
    compile appDependencies.retrofit
    compile appDependencies.orhanobutLogger
    compile appDependencies.rxbinding
    compile appDependencies.rxBindingSupportV4
    compile appDependencies.rxBindingAppcompat
    compile appDependencies.rxBindingDesign
    compile appDependencies.rxBindingRecyclerview
    compile appDependencies.gson
    compile appDependencies.retrofitGson
    compile appDependencies.guava

    testCompile appTestDependencies.junit
    testCompile appTestDependencies.guava
    testCompile appTestDependencies.jsr305
    testCompile appTestDependencies.supportAnnotations
    testCompile appTestDependencies.robolectric
    testCompile appTestDependencies.mockito
    testCompile appTestDependencies.asertj
    testCompile appTestDependencies.robolectricShadowsSupportV4
    testCompile appTestDependencies.assertjAndroid
    testCompile appTestDependencies.assertJAndroidSupportV4
//    testCompile 'com.squareup.assertj:assertj-android-recyclerview-v7:1.1.1'
//    testCompile 'com.squareup.assertj:assertj-android-cardview-v7:1.1.1'
//    testCompile 'com.squareup.assertj:assertj-android-appcompat-v7:1.1.1'
//    testCompile 'com.squareup.assertj:assertj-android-play-services:1.1.1'
//    testCompile 'com.squareup.assertj:assertj-android-design:1.1.1'

    androidTestCompile appAndroidTestDependencies.esppresso
    androidTestCompile appAndroidTestDependencies.testRunner
    androidTestCompile appAndroidTestDependencies.supportAnnotations
    androidTestCompile appAndroidTestDependencies.jsr305
}
repositories {
    mavenCentral()
}
